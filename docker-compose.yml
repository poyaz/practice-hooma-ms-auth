version: "2.3"
services:
  auth:
    build:
      context: .
      dockerfile: ./docker/images/auth/Dockerfile
    image: practice-hooma-auth:latest
    expose:
      - 3000
    volumes:
      - /etc/localtime:/etc/localtime:ro
    networks:
      main: { }
      db: { }
    restart: "always"

networks:
  main:
    name: main
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 10.111.0.0/29
          gateway: 10.111.0.1

  db:
    name: db
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 10.111.0.8/29
          gateway: 10.111.0.9
